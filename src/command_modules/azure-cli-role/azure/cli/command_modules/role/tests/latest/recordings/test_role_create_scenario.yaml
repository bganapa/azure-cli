interactions:
- request:
    body: client_id=04b07795-8ddb-461a-bbee-02f9e1bf7b46&resource=https%3A%2F%2Fmanagement.core.windows.net%2F&refresh_token=AQABAAAAAADXzZ3ifr-GRbDT45zNSEFEl4m2edPBWNdxiqLY1am6oqHsOZ52hyq0Nt4npwvz5EH5qhye-SdJh22yUpLNM_McuBCLcu3UgqGB8QOaKdxaNnkTWqQsKw6_fFerAoJMN_u-wRTjKQcDVeO6aFOIUEw54zdlA82XUIB41YxzUbD3geRAB8WgpmduGcmpC37wPg-PxuLrIwfo7pUnK9Vd21rwcfZ-SrXvtxbbJOQIBh_gGBnOEYq-RF5pChOqcs5rWtG5Pt4MhgynqIDe2xv2B5fO4eRsJigvd8dWcIuX56CYTUAveobWsAV2frIwwEsI8grlFGvYMzfVLg1dVOYhcMjVYDbfzJw0zih6KImmITz3FT1a0RlKCRwZ4FXHkQuxyM_HY-re6BCCVUP8zrMwZIqUiEYVEE9dTa5BAHl-S4SYJk_f31LtK-8kLVIsvPEitaL56-fcfTugNaYpjqDRxW2wYNWES53boI8szwo22GUmHG7T-qSyLGs67fANrlLHyChMU_XoRK6HZgIXj9cxhIeiW9oH5QeHCt5b9a1BoeVnJXrX60uTVeYbUAUUn0DSeg931dn7hr8hKmL9CIQu8biI4HQfkCvJMnVnMKh-r-aH5OMdU9Z_m97TbIX7TdrXJ0mJddSdp640gCkxMhHeKITyqwj_Q1NcRx4hHCPg99JYibXbrHsNpTdcMn_P5fXW1__-de_BNgU2rMjLfUlbMwEGnqghRw-vFrcztWKmFCj4JnPichkMJSP2hBSI1jTRQhy4fDx2qmvOVdCLCaHw-Q1aY9L1PA3YyJ9mj1nVv1euomTTpdJMMkjH7-TAz60-l9USkE9A1EJzEO1G0CE2-oi12oIflrGoi7x0og7ueLp8G2zcHiMQmz_Lkc-ss1bFszqTMRW36Lzrhp8D9WdSu2AobVzqvhEMDI_PuIL1HCTMZn4BdnWFCD_83NiymJgNUL9yi1c2draNqMumx8oPXCSVGQ55ZUvRD3pDgaJuau2LlbRfNFp_3gcQnJlUssKKRYOXXeMpPjE6UJMr8MZ9FqzgG6Sj5mrqG_myzP5ZPp2nYNA3lQCqyWrm4WHGLJ3Q75Ku7CEWkFX8NMzw2fcT4np2gjNuLJPvX6SzU91id20RvSAA&grant_type=refresh_token
    headers:
      Accept: ['*/*']
      Accept-Charset: [utf-8]
      Accept-Encoding: ['gzip, deflate']
      Connection: [keep-alive]
      Content-Length: ['1284']
      User-Agent: [python-requests/2.18.4]
      content-type: [application/x-www-form-urlencoded]
      return-client-request-id: ['true']
      x-client-CPU: [x64]
      x-client-OS: [win32]
      x-client-SKU: [Python]
      x-client-Ver: [1.0.0]
    method: POST
    uri: https://login.windows.net/72f988bf-86f1-41af-91ab-2d7cd011db47/oauth2/token
  response:
    body: {string: '{"token_type":"Bearer","scope":"user_impersonation","expires_in":"3599","ext_expires_in":"262800","expires_on":"1531349388","not_before":"1531345488","resource":"https://management.core.windows.net/","access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6IlRpb0d5d3dsaHZkRmJYWjgxM1dwUGF5OUFsVSIsImtpZCI6IlRpb0d5d3dsaHZkRmJYWjgxM1dwUGF5OUFsVSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83MmY5ODhiZi04NmYxLTQxYWYtOTFhYi0yZDdjZDAxMWRiNDcvIiwiaWF0IjoxNTMxMzQ1NDg4LCJuYmYiOjE1MzEzNDU0ODgsImV4cCI6MTUzMTM0OTM4OCwiX2NsYWltX25hbWVzIjp7Imdyb3VwcyI6InNyYzEifSwiX2NsYWltX3NvdXJjZXMiOnsic3JjMSI6eyJlbmRwb2ludCI6Imh0dHBzOi8vZ3JhcGgud2luZG93cy5uZXQvNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3L3VzZXJzL2U5NDMzMDM1LTE4NzMtNGYyNi04ZDRmLTRhMmRhZTNhNGQ0Mi9nZXRNZW1iZXJPYmplY3RzIn19LCJhY3IiOiIxIiwiYWlvIjoiQVVRQXUvOElBQUFBU2JxSzQ0L0ZORFEvR0RyQ1BjZ0RzS3YvMW1jZG1EMGpPL2MvcHpWNFE4UFdBRmQ3OGpSQUxKTkxybzBBb1pEcWZrK3dyRWo5aGRFK0lQL01uRXJhblE9PSIsImFtciI6WyJyc2EiLCJtZmEiXSwiYXBwaWQiOiIwNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDYiLCJhcHBpZGFjciI6IjAiLCJkZXZpY2VpZCI6IjM5YWEyMTJjLWFlNWUtNDMzZC1iYWFmLTE1OGVkZjFhYWU5YiIsImVfZXhwIjoyNjI4MDAsImZhbWlseV9uYW1lIjoiR2FuYXBhdGh5IiwiZ2l2ZW5fbmFtZSI6IkJhbGEiLCJpcGFkZHIiOiIxMzEuMTA3LjE3NC4yMTUiLCJuYW1lIjoiQmFsYSBHYW5hcGF0aHkiLCJvaWQiOiJlOTQzMzAzNS0xODczLTRmMjYtOGQ0Zi00YTJkYWUzYTRkNDIiLCJvbnByZW1fc2lkIjoiUy0xLTUtMjEtMjEyNzUyMTE4NC0xNjA0MDEyOTIwLTE4ODc5Mjc1MjctNjY3MzY5NiIsInB1aWQiOiIxMDAzM0ZGRjgwMUMwOUYyIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwic3ViIjoicWNSZFViakhSd0FfY3d3SEk5M3NfOVgxeURGQlk2bzBOSEZhTW1nT291VSIsInRpZCI6IjcyZjk4OGJmLTg2ZjEtNDFhZi05MWFiLTJkN2NkMDExZGI0NyIsInVuaXF1ZV9uYW1lIjoiYmdhbmFwYUBtaWNyb3NvZnQuY29tIiwidXBuIjoiYmdhbmFwYUBtaWNyb3NvZnQuY29tIiwidXRpIjoiYjg1LUN5cE04MHU4ZVdlcnpvY1FBQSIsInZlciI6IjEuMCJ9.i2sOuYwQb1QMdePsPLUalpq4BlrMO5nT44aUAJa7IzosR18wlG5cUxmRWzLApYOkty1kjH4uFWvThbXvX_yMuiBxhEJibPIBcBMKnKa2hy68Mog3bMJga-HNHq5A8wrebkRLwbxM8dRTQHeSSJhPM3Vb5oYaD4YIf-c88HxvxlOX6P2DMO-Jqj-fHUaxXG6Sy2lglm0CKP9bdtKc_ZHhj4dzboQSaNCp4TahDb9gAIx_698zjcf1hkpWHTC4KUDI3AR_Efjby2roVyhb5-H1Y7sEZU4ty-n1UY6ENo6_av-HdsWOtPhLIBAgPkEk0KiT7rc2nq5JEz_8xz4CRtgMmw","refresh_token":"AQABAAAAAADXzZ3ifr-GRbDT45zNSEFESVS_XYuz1OW8Q2TQRBg3GBSqKsjDEVQ_fqUCbNfTsnjAYm9Wn02QsoshWKWj_6hxF6mY8XpsFFfEdScfEoSiaqNN4dP39rUi-VsoYaiderBKHggPqD8OGHnHu6_o9VoZRYSkgk7DNMDmpvLADIPJQaI-O66MLBkO371MPSuWzRl2CWrB2A64Hv0NXgT_p2QlaQp5twoltUBVpTH-n_Pdwl6vziVIY0VWW62teT2sHquSOEef7HdDmfSP-wdoAGrXJK75zbS683nTzUzSfjHrsvHkP_UtTtPo4_Hzzd3u7Dr5wDg0e-KoegEnr_mRXoeoyva_3Nl6Cp1f8z7JL4Gprx_lgA6zNYk-wUxthS01SZCX85QPF5XCdGunMaw73ruM9ETEQW_4eo2zOGi7LP576pJjXf0h8molhuzlaEa76QS-LWgodz11-OrsGTWefp2f4nHNfmdk5rB-Gm49hAg4tjfRgsSYTaRNPTFG5O7gw3eHKR2q4MvWF7SKZHsGao1aDOcC-JDz6lvMm02rlrrzTUsQEamAzdDm96synj21XNV8Y6GfzqU44KFVbSfa6Dc4GimyIKym7AISsy9n3oT3zu1od6LdF7RUQcXvjnJbw0nfJsV0K2T6fUlrRL3whLv4WqlvPFVsEdtwNI_afz5TMRtfp1nXUcyO4QFrB1UcgBIHXvfYQ4TUySp106i4K7dkqM8JqGZ0m5K8-U3AJBNZbjvyxoWd9EK1dWgJexvzeck2nZ0BHcQX-t4Ys69leB0wKI7lLJ0FPgzSmag2WXZ9JytxJSin8hAxQ7wZAyQnE0a7ORkqyx_zCgIjY0IhL8Dw61RqIDF8XcUqB3j7KCvy6gb0Y_qB-W8pr9viXrwHHIsfzNOf2yOJ1ZnPHCZO2IlXfelPFNDkmmBe3t4wrQ4OsF56R5R2wCwRk2c3gIHjAZeFO4TCKl7VrlDEVM9mbPQCkTjyfKvcQr7I5YKosm1QY3kDTYm77yT_99jGHZ6oPcdi899XTR1BoTf3EmeOigajHZ_Ru3ZHMv782Ju4SVqGWf8wQ8vRESjt99eV15exD2F39ivY_9oEOP93jOOzhQfqKboC2EDmHiFIuqN8ziDI3XZ7-aDJo1iSoVBG83RCOFMgAA"}'}
    headers:
      cache-control: ['no-cache, no-store']
      content-length: ['3343']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 11 Jul 2018 21:49:48 GMT']
      expires: ['-1']
      p3p: [CP="DSP CUR OTPi IND OTRi ONL FIN"]
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=corp; path=/; secure; HttpOnly, stsservicecookie=ests;
          path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-clitelem: ['1,0,0,100136222.528,']
      x-powered-by: [ASP.NET]
    status: {code: 200, message: OK}
- request:
    body: 'b''{"properties": {"permissions": [{"actions": ["Microsoft.Compute/*/read",
      "Microsoft.Compute/virtualMachines/start/action", "Microsoft.Compute/virtualMachines/restart/action",
      "Microsoft.Network/*/read", "Microsoft.Storage/*/read", "Microsoft.Authorization/*/read",
      "Microsoft.Resources/subscriptions/resourceGroups/read", "Microsoft.Resources/subscriptions/resourceGroups/resources/read",
      "Microsoft.Insights/alertRules/*", "Microsoft.Support/*"]}], "roleName": "cli-test-role000001",
      "type": "CustomRole", "assignableScopes": ["/subscriptions/00000000-0000-0000-0000-000000000000"],
      "description": "Can monitor compute, network and storage, and restart virtual
      machines"}}'''
    headers:
      Accept: [application/json]
      Accept-Encoding: ['gzip, deflate']
      CommandName: [role definition create]
      Connection: [keep-alive]
      Content-Length: ['674']
      Content-Type: [application/json; charset=utf-8]
      User-Agent: [python/3.5.2 (Windows-10-10.0.16299-SP0) requests/2.18.4 msrest/0.4.29
          msrest_azure/0.4.31 azure-mgmt-authorization/0.50.0 Azure-SDK-For-Python
          AZURECLI/2.0.37]
      accept-language: [en-US]
    method: PUT
    uri: https://management.azure.com/subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Authorization/roleDefinitions/88888888-0000-0000-0000-000000000001?api-version=2015-07-01
  response:
    body: {string: '{"error":{"code":"RoleDefinitionLimitExceeded","message":"Role
        definition limit exceeded. No more role definitions can be created."}}'}
    headers:
      cache-control: [no-cache]
      content-length: ['133']
      content-type: [application/json; charset=utf-8]
      date: ['Wed, 11 Jul 2018 21:49:55 GMT']
      expires: ['-1']
      pragma: [no-cache]
      server: [Microsoft-IIS/10.0]
      set-cookie: [x-ms-gateway-slice=productionb; path=/; secure; HttpOnly]
      strict-transport-security: [max-age=31536000; includeSubDomains]
      x-content-type-options: [nosniff]
      x-ms-ratelimit-remaining-subscription-writes: ['1199']
      x-powered-by: [ASP.NET]
    status: {code: 400, message: Bad Request}
version: 1
